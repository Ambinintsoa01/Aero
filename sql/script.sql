-- ============================================
-- TABLES DE RÉFÉRENCE
-- ============================================

-- Table: type_vol
CREATE TABLE type_vol (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    libelle VARCHAR(50) NOT NULL UNIQUE
);

-- Table: type_personnel
CREATE TABLE type_personnel (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    libelle VARCHAR(50) NOT NULL UNIQUE
);

-- Table: type_passager
CREATE TABLE type_passager (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    libelle VARCHAR(50) NOT NULL UNIQUE
);

-- Table: type_bagage
CREATE TABLE type_bagage (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    libelle VARCHAR(50) NOT NULL UNIQUE
);

-- Table: classe
CREATE TABLE classe (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    libelle VARCHAR(50) NOT NULL UNIQUE
);

-- Table: devise
CREATE TABLE devise (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    code VARCHAR(10) NOT NULL UNIQUE,
    libelle VARCHAR(50) NOT NULL UNIQUE,
    symbole VARCHAR(10) NOT NULL UNIQUE
);

-- ============================================
-- TABLES PRINCIPALES
-- ============================================

-- Table: aeroport
CREATE TABLE aeroport (
    id_aeroport INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    code VARCHAR(10) NOT NULL UNIQUE,
    nom VARCHAR(100),
    pays VARCHAR(100),
    ville VARCHAR(100)
);

-- Table: avion
CREATE TABLE avion (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    immatriculation VARCHAR(10) NOT NULL UNIQUE,
    modele VARCHAR(50) NOT NULL,
    constructeur VARCHAR(50) NOT NULL,
    capacite INTEGER NOT NULL,
    annee_fabrication INTEGER NOT NULL,
    date_mise_service DATE NOT NULL
);

-- Table: personnel
CREATE TABLE personnel (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    matricule VARCHAR(20) NOT NULL UNIQUE,
    nom VARCHAR(50) NOT NULL,
    prenom VARCHAR(50) NOT NULL,
    date_naissance DATE NOT NULL,
    nationalite VARCHAR(30) NOT NULL,
    email VARCHAR(50) NOT NULL UNIQUE,
    telephone VARCHAR(15) NOT NULL,
    adresse VARCHAR(100) NOT NULL
);

-- Table: fonction_personnel
CREATE TABLE fonction_personnel (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    libelle VARCHAR(50) NOT NULL UNIQUE,
    id_type_personnel INTEGER NOT NULL,
    CONSTRAINT fk_fonction_type_personnel FOREIGN KEY (id_type_personnel) 
        REFERENCES type_personnel(id)
);

-- Table: personnel_fonction
CREATE TABLE personnel_fonction (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    id_personnel INTEGER NOT NULL,
    id_fonction INTEGER NOT NULL,
    date_obtention_poste DATE NOT NULL,
    CONSTRAINT fk_personnel_fonction_personnel FOREIGN KEY (id_personnel) 
        REFERENCES personnel(id),
    CONSTRAINT fk_personnel_fonction_fonction FOREIGN KEY (id_fonction) 
        REFERENCES fonction_personnel(id)
);

-- Table: passager
CREATE TABLE passager (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    nom VARCHAR(100) NOT NULL,
    prenom VARCHAR(100) NOT NULL,
    date_naissance DATE NOT NULL,
    nationalite VARCHAR(50) NOT NULL,
    numero_passport VARCHAR(20) NOT NULL UNIQUE,
    email VARCHAR(100) NOT NULL UNIQUE,
    telephone VARCHAR(15) NOT NULL,
    id_type_passager BIGINT NOT NULL,
    CONSTRAINT fk_passager_type_passager FOREIGN KEY (id_type_passager) 
        REFERENCES type_passager(id)
);

-- ============================================
-- TABLES DE GESTION DES VOLS
-- ============================================

-- Table: vol_mere
CREATE TABLE vol_mere (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    code_vol VARCHAR(10) NOT NULL UNIQUE,
    id_aeroport_origine INTEGER NOT NULL,
    id_aeroport_destination INTEGER NOT NULL,
    id_type_vol INTEGER NOT NULL,
    CONSTRAINT fk_vol_mere_aeroport_origine FOREIGN KEY (id_aeroport_origine) 
        REFERENCES aeroport(id_aeroport),
    CONSTRAINT fk_vol_mere_aeroport_destination FOREIGN KEY (id_aeroport_destination) 
        REFERENCES aeroport(id_aeroport),
    CONSTRAINT fk_vol_mere_type_vol FOREIGN KEY (id_type_vol) 
        REFERENCES type_vol(id)
);

-- Table: vol_fille
CREATE TABLE vol_fille (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    id_vol_mere INTEGER NOT NULL,
    id_avion INTEGER NOT NULL,
    date_prev_depart TIMESTAMP(6) WITHOUT TIME ZONE,
    date_prev_arrivee TIMESTAMP(6) WITHOUT TIME ZONE,
    date_reelle_depart TIMESTAMP(6) WITHOUT TIME ZONE NOT NULL,
    date_reelle_arrivee TIMESTAMP(6) WITHOUT TIME ZONE NOT NULL,
    status VARCHAR(20) NOT NULL,
    date_creation TIMESTAMP(6) WITHOUT TIME ZONE NOT NULL,
    date_modification TIMESTAMP(6) WITHOUT TIME ZONE NOT NULL,
    CONSTRAINT fk_vol_fille_vol_mere FOREIGN KEY (id_vol_mere) 
        REFERENCES vol_mere(id),
    CONSTRAINT fk_vol_fille_avion FOREIGN KEY (id_avion) 
        REFERENCES avion(id)
);

-- Table: vol_historique
CREATE TABLE vol_historique (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    id_vol_fille INTEGER NOT NULL,
    ancien_status VARCHAR(20) NOT NULL,
    nouveau_status VARCHAR(20) NOT NULL,
    date_modification TIMESTAMP(6) WITHOUT TIME ZONE NOT NULL,
    commentaire VARCHAR(255),
    CONSTRAINT fk_vol_historique_vol_fille FOREIGN KEY (id_vol_fille) 
        REFERENCES vol_fille(id)
);

-- Table: vol_gestion
CREATE TABLE vol_gestion (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    id_vol_fille INTEGER NOT NULL,
    id_personnel INTEGER NOT NULL,
    id_fonction INTEGER NOT NULL,
    nbre_personnel_pnt INTEGER NOT NULL,
    nbre_personnel_pnc INTEGER NOT NULL,
    CONSTRAINT fk_vol_gestion_vol_fille FOREIGN KEY (id_vol_fille) 
        REFERENCES vol_fille(id),
    CONSTRAINT fk_vol_gestion_personnel FOREIGN KEY (id_personnel) 
        REFERENCES personnel(id),
    CONSTRAINT fk_vol_gestion_fonction FOREIGN KEY (id_fonction) 
        REFERENCES fonction_personnel(id)
);

-- ============================================
-- TABLES DE TARIFICATION ET BILLETS
-- ============================================

-- Table: tarif
CREATE TABLE tarif (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    id_vol_fille INTEGER,
    id_classe BIGINT NOT NULL,
    id_devise BIGINT NOT NULL,
    prix_total NUMERIC(10,2) NOT NULL,
    date_emission TIMESTAMP(6) WITHOUT TIME ZONE NOT NULL,
    CONSTRAINT fk_tarif_vol_fille FOREIGN KEY (id_vol_fille) 
        REFERENCES vol_fille(id),
    CONSTRAINT fk_tarif_classe FOREIGN KEY (id_classe) 
        REFERENCES classe(id),
    CONSTRAINT fk_tarif_devise FOREIGN KEY (id_devise) 
        REFERENCES devise(id)
);

-- Table: remise

CREATE TABLE remise (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    id_tarif BIGINT NOT NULL,
    id_type_passager BIGINT NOT NULL,
    newValue NUMERIC(10,2) NOT NULL,
    CONSTRAINT fk_remise_tarif FOREIGN KEY (id_tarif) 
        REFERENCES tarif(id),
    Foreign Key (id_type_passager) REFERENCES type_passager(id)
);
INSERT INTO remise(id_tarif, id_type_passager, newvalue) VALUES (37, 2, 500000);

-- Table: remisePourcentage

CREATE TABLE remisePourcentage (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    id_tarif BIGINT NOT NULL,
    id_type_passager BIGINT NOT NULL,
    id_type_passager_origine BIGINT NOT NULL,
    pourcentage INT NOT NULL,
    CONSTRAINT fk_remise_tarif FOREIGN KEY (id_tarif) 
        REFERENCES tarif(id),
    Foreign Key (id_type_passager) REFERENCES type_passager(id),
    Foreign Key (id_type_passager_origine) REFERENCES type_passager(id)
);
INSERT INTO remisePourcentage(id_tarif, id_type_passager, id_type_passager_origine, pourcentage) VALUES (37, 3, 1, 10);
INSERT INTO remisePourcentage(id_tarif, id_type_passager, id_type_passager_origine, pourcentage) VALUES (38, 3, 1, 10);
INSERT INTO remisePourcentage(id_tarif, id_type_passager, id_type_passager_origine, pourcentage) VALUES (39, 3, 1, 10);



-- Table: billet

CREATE TABLE billet (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    numero_billet VARCHAR(100) NOT NULL,
    id_tarif BIGINT NOT NULL,
    id_type_passager BIGINT NOT NULL,
    nom VARCHAR(100) NOT NULL,
    prenom VARCHAR(100) NOT NULL,
    date_naissance DATE NOT NULL,
    nationalite VARCHAR(50) NOT NULL,
    numero_passport VARCHAR(20) NOT NULL UNIQUE,
    email VARCHAR(100) NOT NULL UNIQUE,
    telephone VARCHAR(15) NOT NULL,
    date_emission TIMESTAMP(6) WITHOUT TIME ZONE NOT NULL,
    status VARCHAR(20) NOT NULL,
    CONSTRAINT billet_status_check CHECK (status IN ('EMIS', 'UTILISE', 'ANNULE', 'REMBOURSER')),
    CONSTRAINT fk_billet_tarif FOREIGN KEY (id_tarif) 
        REFERENCES tarif(id),
    CONSTRAINT fk_billet_type_passager FOREIGN KEY (id_type_passager) 
        REFERENCES type_passager(id)
);

-- Table: droit_bagage
CREATE TABLE droit_bagage (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    id_billet BIGINT NOT NULL,
    bagage_cabine_nb INTEGER NOT NULL,
    bagage_cabine_poids NUMERIC(5,2) NOT NULL,
    bagage_soute_nb INTEGER NOT NULL,
    bagage_soute_poids NUMERIC(5,2) NOT NULL,
    CONSTRAINT fk_droit_bagage_billet FOREIGN KEY (id_billet) 
        REFERENCES tarif(id)
);

-- ============================================
-- TABLES DE GESTION DES BAGAGES
-- ============================================

-- Table: bagage
CREATE TABLE bagage (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    numero_etiquette VARCHAR(30) NOT NULL UNIQUE,
    id_billet BIGINT NOT NULL,
    id_type_bagage BIGINT NOT NULL,
    poids NUMERIC(5,2) NOT NULL,
    CONSTRAINT fk_bagage_billet FOREIGN KEY (id_billet) 
        REFERENCES tarif(id),
    CONSTRAINT fk_bagage_type_bagage FOREIGN KEY (id_type_bagage) 
        REFERENCES type_bagage(id)
);

-- Table: etat_bagage
CREATE TABLE etat_bagage (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    id_bagage BIGINT NOT NULL,
    id_vol BIGINT NOT NULL,
    statut VARCHAR(50) NOT NULL,
    CONSTRAINT etat_bagage_statut_check CHECK (statut IN ('ENREGISTRE', 'EN_VOL', 'PERDU')),
    CONSTRAINT fk_etat_bagage_bagage FOREIGN KEY (id_bagage) 
        REFERENCES bagage(id)
);

-- Table: extra_bagage
CREATE TABLE extra_bagage (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    id_billet BIGINT NOT NULL,
    poids_supplementaire NUMERIC(5,2) NOT NULL,
    frais NUMERIC(10,2) NOT NULL,
    CONSTRAINT fk_extra_bagage_billet FOREIGN KEY (id_billet) 
        REFERENCES tarif(id)
);

-- Table: etat_extra_bagage
CREATE TABLE etat_extra_bagage (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    id_extra_bagage BIGINT NOT NULL,
    id_vol BIGINT NOT NULL,
    statut VARCHAR(50) NOT NULL,
    CONSTRAINT etat_extra_bagage_statut_check CHECK (statut IN ('ENREGISTRE', 'EN_VOL', 'PERDU')),
    CONSTRAINT fk_etat_extra_bagage_extra_bagage FOREIGN KEY (id_extra_bagage) 
        REFERENCES extra_bagage(id)
);

-- ============================================
-- INSERTION DES DONNÉES
-- ============================================

-- Données: type_vol
INSERT INTO type_vol (id, libelle) VALUES
(1, 'Vol National'),
(2, 'Vol International'),
(3, 'Vol Régional');
SELECT setval('type_vol_id_seq', 3, true);

-- Données: type_personnel
INSERT INTO type_personnel (id, libelle) VALUES
(1, 'Personnel Navigant Technique'),
(2, 'Personnel Navigant Commercial'),
(3, 'Personnel au Sol');
SELECT setval('type_personnel_id_seq', 3, true);

-- Données: type_passager
INSERT INTO type_passager (id, libelle) VALUES
(1, 'Adulte'),
(2, 'Enfant'),
(3, 'Bébé'),
(4, 'Senior');
SELECT setval('type_passager_id_seq', 4, true);

-- Données: type_bagage
INSERT INTO type_bagage (id, libelle) VALUES
(1, 'Bagage de soute'),
(2, 'Bagage cabine'),
(3, 'Équipement sportif');
SELECT setval('type_bagage_id_seq', 3, true);

-- Données: classe
INSERT INTO classe (id, libelle) VALUES
(1, 'Économique'),
(2, 'Affaires'),
(3, 'Première Classe');
SELECT setval('classe_id_seq', 3, true);

-- Données: devise
INSERT INTO devise (id, code, libelle, symbole) VALUES
(1, 'EUR', 'Euro', '€'),
(2, 'USD', 'Dollar Américain', '$'),
(3, 'MGA', 'Ariary Malgache', 'Ar'),
(4, 'ZAR', 'Rand Sud-Africain', 'R');
SELECT setval('devise_id_seq', 4, true);

-- Données: aeroport
INSERT INTO aeroport (id_aeroport, code, nom, pays, ville) VALUES
(1, 'TNR', 'Aéroport International d''Ivato', 'Madagascar', 'Antananarivo'),
(2, 'TMM', 'Aéroport de Toamasina', 'Madagascar', 'Toamasina'),
(3, 'NOS', 'Aéroport de Fascene', 'Madagascar', 'Nosy Be'),
(4, 'CDG', 'Aéroport Charles de Gaulle', 'France', 'Paris'),
(5, 'JNB', 'Aéroport OR Tambo', 'Afrique du Sud', 'Johannesburg'),
(6, 'MRU', 'Aéroport Sir Seewoosagur Ramgoolam', 'Maurice', 'Port Louis');
SELECT setval('aeroport_id_aeroport_seq', 6, true);

-- Données: avion
INSERT INTO avion (id, immatriculation, modele, constructeur, capacite, annee_fabrication, date_mise_service) VALUES
(1, '5R-MFT', 'Boeing 737-800', 'Boeing', 189, 2015, '2015-06-15'),
(2, '5R-MGA', 'Airbus A320', 'Airbus', 180, 2018, '2018-09-20'),
(3, '5R-MGB', 'ATR 72-600', 'ATR', 72, 2019, '2019-03-10'),
(4, '5R-MGC', 'Embraer E190', 'Embraer', 100, 2020, '2020-07-25');
SELECT setval('avion_id_seq', 4, true);

-- Données: personnel
INSERT INTO personnel (id, matricule, nom, prenom, date_naissance, nationalite, email, telephone, adresse) VALUES
(1, 'PNT001', 'Rakoto', 'Jean', '1980-05-15', 'Malgache', 'jean.rakoto@airline.mg', '+261340000001', 'Lot II M 45 Antananarivo'),
(2, 'PNT002', 'Andriamanana', 'Paul', '1985-08-20', 'Malgache', 'paul.andriamanana@airline.mg', '+261340000002', 'Lot III K 12 Antananarivo'),
(3, 'PNT003', 'Razafindra', 'Michel', '1982-03-10', 'Malgache', 'michel.razafindra@airline.mg', '+261340000003', 'Lot IV N 78 Antananarivo'),
(4, 'PNC001', 'Rasoamampianina', 'Marie', '1990-12-05', 'Malgache', 'marie.rasoamampianina@airline.mg', '+261340000004', 'Lot V P 23 Antananarivo'),
(5, 'PNC002', 'Randria', 'Sophie', '1992-07-18', 'Malgache', 'sophie.randria@airline.mg', '+261340000005', 'Lot VI Q 56 Antananarivo'),
(6, 'PNC003', 'Ratsimandresy', 'Julie', '1988-11-25', 'Malgache', 'julie.ratsimandresy@airline.mg', '+261340000006', 'Lot VII R 89 Antananarivo'),
(7, 'PNC004', 'Ravalison', 'David', '1991-09-30', 'Malgache', 'david.ravalison@airline.mg', '+261340000007', 'Lot VIII S 34 Antananarivo'),
(8, 'PS001', 'Rakotomalala', 'Hery', '1987-04-22', 'Malgache', 'hery.rakotomalala@airline.mg', '+261340000008', 'Lot IX T 67 Antananarivo');
SELECT setval('personnel_id_seq', 8, true);

-- Données: fonction_personnel
INSERT INTO fonction_personnel (id, libelle, id_type_personnel) VALUES
(1, 'Commandant de bord', 1),
(2, 'Copilote', 1),
(3, 'Mécanicien navigant', 1),
(4, 'Chef de cabine', 2),
(5, 'Hôtesse de l''air', 2),
(6, 'Steward', 2),
(7, 'Agent d''enregistrement', 3),
(8, 'Agent de piste', 3);
SELECT setval('fonction_personnel_id_seq', 8, true);

-- Données: personnel_fonction
INSERT INTO personnel_fonction (id, id_personnel, id_fonction, date_obtention_poste) VALUES
(1, 1, 1, '2010-01-15'),
(2, 2, 2, '2015-03-20'),
(3, 3, 3, '2012-06-10'),
(4, 4, 4, '2018-09-01'),
(5, 5, 5, '2020-02-15'),
(6, 6, 5, '2019-11-20'),
(7, 7, 6, '2021-05-10'),
(8, 8, 7, '2016-08-25');
SELECT setval('personnel_fonction_id_seq', 8, true);

-- Données: passager
INSERT INTO passager (id, nom, prenom, date_naissance, nationalite, numero_passport, email, telephone, id_type_passager) VALUES
(1, 'Dupont', 'Pierre', '1985-06-15', 'Française', 'FR123456', 'pierre.dupont@email.fr', '+33612345678', 1),
(2, 'Martin', 'Claire', '1990-03-22', 'Française', 'FR789012', 'claire.martin@email.fr', '+33698765432', 1),
(3, 'Raharison', 'Andry', '1975-11-08', 'Malgache', 'MG345678', 'andry.raharison@email.mg', '+261331234567', 1),
(4, 'Rakotobe', 'Faly', '2010-04-12', 'Malgache', 'MG901234', 'parents.rakotobe@email.mg', '+261338765432', 2),
(5, 'Smith', 'John', '1955-09-30', 'Américaine', 'US567890', 'john.smith@email.com', '+12025551234', 4);
SELECT setval('passager_id_seq', 5, true);

-- Données: vol_mere
INSERT INTO vol_mere (id, code_vol, id_aeroport_origine, id_aeroport_destination, id_type_vol) VALUES
(1, 'MD101', 1, 2, 1),
(2, 'MD102', 1, 3, 1),
(3, 'MD301', 1, 4, 2),
(4, 'MD302', 1, 5, 2),
(5, 'MD201', 1, 6, 3);
SELECT setval('vol_mere_id_seq', 5, true);

-- Données: vol_fille
INSERT INTO vol_fille (id, id_vol_mere, id_avion, date_prev_depart, date_prev_arrivee, date_reelle_depart, date_reelle_arrivee, status, date_creation, date_modification) VALUES
(1, 1, 3, '2026-01-15 08:00:00', '2026-01-15 09:30:00', '2026-01-15 08:05:00', '2026-01-15 09:28:00', 'TERMINE', '2025-12-01 10:00:00', '2026-01-15 09:28:00'),
(2, 2, 3, '2026-01-16 14:00:00', '2026-01-16 16:00:00', '2026-01-16 14:10:00', '2026-01-16 16:05:00', 'TERMINE', '2025-12-01 10:00:00', '2026-01-16 16:05:00'),
(3, 3, 1, '2026-01-20 22:00:00', '2026-01-21 09:30:00', '2026-01-20 22:15:00', '2026-01-21 09:45:00', 'TERMINE', '2025-12-01 10:00:00', '2026-01-21 09:45:00'),
(4, 4, 2, '2026-01-25 15:00:00', '2026-01-25 19:00:00', '2026-01-25 15:00:00', '2026-01-25 19:00:00', 'EN_VOL', '2025-12-15 10:00:00', '2026-01-25 15:00:00'),
(5, 5, 4, '2026-02-01 10:00:00', '2026-02-01 11:30:00', '2026-02-01 10:00:00', '2026-02-01 11:30:00', 'PROGRAMME', '2026-01-05 10:00:00', '2026-01-05 10:00:00');
SELECT setval('vol_fille_id_seq', 5, true);

-- Données: vol_historique
INSERT INTO vol_historique (id, id_vol_fille, ancien_status, nouveau_status, date_modification, commentaire) VALUES
(1, 1, 'PROGRAMME', 'EN_COURS', '2026-01-15 08:00:00', 'Départ à l''heure'),
(2, 1, 'EN_COURS', 'TERMINE', '2026-01-15 09:28:00', 'Arrivée avec léger retard'),
(3, 2, 'PROGRAMME', 'EN_COURS', '2026-01-16 14:00:00', 'Départ retardé de 10 minutes'),
(4, 2, 'EN_COURS', 'TERMINE', '2026-01-16 16:05:00', 'Vol terminé'),
(5, 3, 'PROGRAMME', 'EN_COURS', '2026-01-20 22:00:00', 'Départ retardé'),
(6, 3, 'EN_COURS', 'TERMINE', '2026-01-21 09:45:00', 'Arrivée avec retard');
SELECT setval('vol_historique_id_seq', 6, true);

-- Données: vol_gestion
INSERT INTO vol_gestion (id, id_vol_fille, id_personnel, id_fonction, nbre_personnel_pnt, nbre_personnel_pnc) VALUES
(1, 1, 1, 1, 2, 3),
(2, 1, 4, 4, 2, 3),
(3, 2, 2, 2, 2, 3),
(4, 3, 1, 1, 2, 4),
(5, 4, 2, 2, 2, 4);
SELECT setval('vol_gestion_id_seq', 5, true);

-- Données: tarif
INSERT INTO tarif (id, id_vol_fille, id_classe, id_devise, prix_total, date_emission) VALUES
(1, 1, 1, 3, 150000.00, '2026-01-10 10:00:00'),
(2, 1, 2, 3, 300000.00, '2026-01-10 10:00:00'),
(3, 2, 1, 3, 200000.00, '2026-01-11 11:00:00'),
(4, 3, 1, 1, 850.00, '2026-01-12 09:00:00'),
(5, 3, 2, 1, 2500.00, '2026-01-12 09:00:00'),
(6, 4, 1, 2, 450.00, '2026-01-13 14:00:00'),
(7, 5, 1, 1, 350.00, '2026-01-14 15:00:00');
SELECT setval('tarif_id_seq', 7, true);

-- Données: billet
INSERT INTO billet (id, numero_billet, id_tarif, id_type_passager, nom, prenom, date_naissance, nationalite, numero_passport, email, telephone, date_emission, status) VALUES
(1, 'BIL2026001', 1, 1, 'Raharison', 'Andry', '1975-11-08', 'Malgache', 'MG345678', 'andry.raharison@email.mg', '+261331234567', '2026-01-10 10:30:00', 'UTILISE'),
(2, 'BIL2026002', 3, 2, 'Rakotobe', 'Faly', '2010-04-12', 'Malgache', 'MG901234', 'parents.rakotobe@email.mg', '+261338765432', '2026-01-11 11:30:00', 'UTILISE'),
(3, 'BIL2026003', 4, 1, 'Dupont', 'Pierre', '1985-06-15', 'Française', 'FR123456', 'pierre.dupont@email.fr', '+33612345678', '2026-01-12 09:30:00', 'UTILISE'),
(4, 'BIL2026004', 5, 1, 'Martin', 'Claire', '1990-03-22', 'Française', 'FR789012', 'claire.martin@email.fr', '+33698765432', '2026-01-12 09:45:00', 'UTILISE'),
(5, 'BIL2026005', 6, 4, 'Smith', 'John', '1955-09-30', 'Américaine', 'US567890', 'john.smith@email.com', '+12025551234', '2026-01-13 14:30:00', 'EMIS'),
(6, 'BIL2026006', 7, 1, 'Ravalomanana', 'Feno', '1988-07-20', 'Malgache', 'MG567891', 'feno.ravalo@email.mg', '+261339876543', '2026-01-14 15:30:00', 'EMIS');
SELECT setval('billet_id_seq', 6, true);

-- Données: droit_bagage
INSERT INTO droit_bagage (id, id_billet, bagage_cabine_nb, bagage_cabine_poids, bagage_soute_nb, bagage_soute_poids) VALUES
(1, 1, 1, 10.00, 1, 23.00),
(2, 2, 1, 10.00, 1, 23.00),
(3, 3, 1, 10.00, 1, 23.00),
(4, 4, 2, 12.00, 2, 32.00),
(5, 5, 1, 10.00, 1, 23.00),
(6, 6, 1, 10.00, 1, 23.00);
SELECT setval('droit_bagage_id_seq', 6, true);

-- Données: bagage
INSERT INTO bagage (id, numero_etiquette, id_billet, id_type_bagage, poids) VALUES
(1, 'ETQ2026001', 1, 1, 20.50),
(2, 'ETQ2026002', 1, 2, 8.00),
(3, 'ETQ2026003', 2, 1, 15.00),
(4, 'ETQ2026004', 3, 1, 22.00),
(5, 'ETQ2026005', 3, 2, 9.50),
(6, 'ETQ2026006', 4, 1, 25.00),
(7, 'ETQ2026007', 4, 1, 28.00),
(8, 'ETQ2026008', 4, 2, 10.00);
SELECT setval('bagage_id_seq', 8, true);

-- Données: etat_bagage
INSERT INTO etat_bagage (id, id_bagage, id_vol, statut) VALUES
(1, 1, 1, 'EN_VOL'),
(2, 2, 1, 'EN_VOL'),
(3, 3, 2, 'EN_VOL'),
(4, 4, 3, 'EN_VOL'),
(5, 5, 3, 'EN_VOL'),
(6, 6, 3, 'EN_VOL'),
(7, 7, 3, 'EN_VOL'),
(8, 8, 3, 'EN_VOL');
SELECT setval('etat_bagage_id_seq', 8, true);

-- Données: extra_bagage
INSERT INTO extra_bagage (id, id_billet, poids_supplementaire, frais) VALUES
(1, 4, 5.00, 75.00);
SELECT setval('extra_bagage_id_seq', 1, true);

-- Données: etat_extra_bagage
INSERT INTO etat_extra_bagage (id, id_extra_bagage, id_vol, statut) VALUES
(1, 1, 3, 'EN_VOL');
SELECT setval('etat_extra_bagage_id_seq', 1, true);
